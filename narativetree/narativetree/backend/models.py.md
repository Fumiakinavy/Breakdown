# backend/models.py ナラティブ

## 2025-10-22T14:24:04Z 実装記録
### 概要
SQLAlchemyモデルを定義し、タスク・サブタスクノード・エッジ・LLM実行履歴・ユーザープロファイルを表現した。
### 目的
バックエンドでグラフデータとEmbeddingを永続化し、pgvector検索を可能にする。
### 最適な実装方法
`pgvector`の`Vector`型を使用し、ノード/プロファイルにEmbedding列を付与。外部キーとインデックスを設定し高速クエリを実現。
### 入出力
入力: SQLAlchemy Session。  
出力: ORMマッピング。
### 実装の評価
今後のマイグレーションに耐えるスキーマを用意できた。評価: 90/100。

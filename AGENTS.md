#　ナラティブツリー開発

## 目的 
- 開発者とコーティングエージェントが対話的に共通認識を持って開発話を進める。
- そのためのフレームワークがナラティブツリー開発

## 概念定義
主にログとナラティブツリーの２つがこの運用で
### ナラティブツリー
- ソースコードと同じディレクトリ構造を持ったマークダウン（.md）ファイル群。ソースコードの各ファイルとナラティブツリーのマークダウンファイルは一対一に対応しファイルは同じ名称を持ちます。
- ファイルの内容はソースコードの概要、目的、最適な実装方法、最適と思われる理由、入出力、実装の評価です。
- '`narativetree/`にソースコードに対応するフォルダとファイル群を作成し、それ以降は追加記述による更新をしてください。ファイルは一対一に対応します。
- ナラティブツリーはコードの実装前と実装後に記述してください。
- ディレクトリの構造自体は変わらないが、ソースコードを更新する場合は、新しいナラティブツリーを生成する必要はなく対応するナラティブツリーのファイルに追加で記述してください。

### Log System (必要最低限の更新項目)
- `memo.md` / `<project>/memo.md`: 日時・原文・トピック・欲求要約を記録。抜けがないか二重チェック。
- `DESIRE.md` / `<project>/DESIRE.md`: 欲求サマリーのみ。DesireIDや成熟度ラベルがある場合は併記。
- `Dialogue.md` / `<project>/Dialogue.md`: 解釈、実行計画、自己評価、必要に応じ質問。実装後は0–100評価と根拠を追記。

## ワークフロー
1. 開発者（ユーザー）がプロンプトを与える。
2. エージェントはそのプロンプトの意図を解釈しログシステムをまず更新する。
3. コードを実装しつつナラティブツリーを作成する
4. コードが完成したら、ソースコードの自己評価をする
5. 開発者がコードをレビューし、修正案をナラティブツリーに記述する。
6. エージェントはナラティブツリーを読んで再度、実装とナラティブツリーの更新をする。

これを繰り返し行い、認識の共有を行なっていきます。
ナラティブツリーは追加記述で大丈夫です。

# プロンプトごとに行うこと
- ナラティブツリーの作成・更新
- ログの更新